
\GetIdInfo$Id: ctex.dtx 13a2256 2022-07-14 18:54:09 +0800 $
    {yanming fonts definition (CTEX)}
\ProvidesExplFile{yanming-fontset.def}
    {\ExplFileDate}{2.5.10}{\ExplFileDescription}

\ctex_fontset_case:nnn
    {}
    {}
    {
    \RequirePackage{stix2} % 数学字体和英文字体采用stix2字体（类Times字体）已包含 amssymb 宏包, 并且需要同时加载mathspec，否则部分符号会出现错误
    
    \RequirePackage{ifplatform}

    \newcommand{ \AutoFakeCJKOptions } { AutoFakeBold=2.5, AutoFakeSlant=true }
    \newcommand{ \SetCJKfont         } [2] { 
        \IfFileExists { ./Fonts/#2 } 
            { #1 [ \AutoFakeCJKOptions, Path=./Fonts/ ] { #2 } }
            { \ClassError { 字体缺失 } { 请下载 #2 并放置于 ./Fonts/ 目录，或运行脚本下载 } }
    }

    \ifwindows
        \setCJKmainfont   [ \AutoFakeCJKOptions ] { simsun.ttc  }
        \setCJKsansfont   [ \AutoFakeCJKOptions ] { simhei.ttf  }
        \setCJKmonofont   [ \AutoFakeCJKOptions ] { simfang.ttf }

        \newCJKfontfamily { \songti } [ \AutoFakeCJKOptions ] { simsun.ttc  }
        \newCJKfontfamily { \kaiti  } [ \AutoFakeCJKOptions ] { simkai.ttf  }
        \newCJKfontfamily { \heiti  } [ \AutoFakeCJKOptions ] { simhei.ttf  }
        \newCJKfontfamily { \fsong  } [ \AutoFakeCJKOptions ] { simfang.ttf }
        \newCJKfontfamily { \lishu  } [ \AutoFakeCJKOptions ] { simli.ttf   }
        \newCJKfontfamily { \yahei  } [ \AutoFakeCJKOptions ] { msyh.ttc    }
        \newCJKfontfamily { \yuanti } [ \AutoFakeCJKOptions ] { simyou.ttf  }
        
        \setmainfont{Times~New~Roman}
        \setsansfont{Arial}

    \else
        \ifmacosx
            \setCJKmainfont   [ \AutoFakeCJKOptions ] { Songti~SC~Light }
            \setCJKsansfont   [ \AutoFakeCJKOptions ] { PingFang~SC     }
            \setCJKmonofont   [ \AutoFakeCJKOptions ] { STFangsong      }

            \newCJKfontfamily { \songti } [ \AutoFakeCJKOptions ] { Songti~SC~Light }
            \newCJKfontfamily { \kaiti  } [ \AutoFakeCJKOptions ] { Kaiti~SC        }
            \newCJKfontfamily { \heiti  } [ \AutoFakeCJKOptions ] { Heiti~SC~Light  }
            \newCJKfontfamily { \fsong  } [ \AutoFakeCJKOptions ] { STFangsong      }
            \newCJKfontfamily { \lishu  } [ \AutoFakeCJKOptions ] { Baoli~SC        }
            \newCJKfontfamily { \yahei  } [ \AutoFakeCJKOptions ] { PingFang~SC     }
            \newCJKfontfamily { \yuanti } [ \AutoFakeCJKOptions ] { Yuanti~SC~Light }

            \setmainfont{Times~New~Roman}

        \else
            \SetCJKfont { \setCJKmainfont } { FZ-ShuSong.ttf  }
            \SetCJKfont { \setCJKsansfont } { FZ-HeiTi.ttf    }
            \SetCJKfont { \setCJKmonofont } { FZ-FangSong.ttf }

            \SetCJKfont { \newCJKfontfamily { \songti } } { FZ-ShuSong.ttf  }
            \SetCJKfont { \newCJKfontfamily { \kaiti  } } { FZ-KaiTi.ttf    }
            \SetCJKfont { \newCJKfontfamily { \heiti  } } { FZ-HeiTi.ttf    }
            \SetCJKfont { \newCJKfontfamily { \fsong  } } { FZ-FangSong.ttf }
            \SetCJKfont { \newCJKfontfamily { \yuanti } } { HC-YuanTi.ttf   }

            \setmainfont[                                       % 英文字体应用 stixfonts 字体 (Times New Roman 风格)
                BoldFont=STIXTwoText-Bold.otf,                  % 粗体字体
                ItalicFont=STIXTwoText-Italic.otf,              % 斜体字体
                BoldItalicFont=STIXTwoText-BoldItalic.otf,
                ]{STIXTwoText-Regular.otf}
        \fi
    \fi
    }